{"ast":null,"code":"import _slicedToArray from\"/Users/zhiyang/Documents/Portfolio/React-The Complete Guide/food-order/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classes from\"./HeaderCartButton.module.css\";import CartIcon from\"../Cart/CartIcon\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{uiActions}from\"../../store/ui-slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderCartButton=function HeaderCartButton(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),btnIsHightlighted=_useState2[0],setBtnIsHighlighted=_useState2[1];var dispatch=useDispatch();var showCartHandler=function showCartHandler(){dispatch(uiActions.setCartIsShown(true));};var items=useSelector(function(state){return state.cart.items;});var numberOfCartItems=items.length;var btnClasses=\"\".concat(classes.button,\" \").concat(btnIsHightlighted?classes.bump:\"\");useEffect(function(){if(items.length===0){return;}setBtnIsHighlighted(true);var timer=setTimeout(function(){setBtnIsHighlighted(false);},300);return function(){clearTimeout(timer);};},[items]);return/*#__PURE__*/_jsxs(\"button\",{className:btnClasses,onClick:showCartHandler,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"Torrent Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.badge,children:numberOfCartItems})]});};export default HeaderCartButton;","map":{"version":3,"sources":["/Users/zhiyang/Documents/Portfolio/React-The Complete Guide/food-order/src/component/Layout/HeaderCartButton.js"],"names":["classes","CartIcon","useEffect","useState","useDispatch","useSelector","uiActions","HeaderCartButton","btnIsHightlighted","setBtnIsHighlighted","dispatch","showCartHandler","setCartIsShown","items","state","cart","numberOfCartItems","length","btnClasses","button","bump","timer","setTimeout","clearTimeout","icon","badge"],"mappings":"6LAAA,MAAOA,CAAAA,OAAP,KAAoB,+BAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CAEA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,sBAA1B,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC9B,cAAiDJ,QAAQ,CAAC,KAAD,CAAzD,wCAAOK,iBAAP,eAA0BC,mBAA1B,eACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC7BD,QAAQ,CAACJ,SAAS,CAACM,cAAV,CAAyB,IAAzB,CAAD,CAAR,CACA,CAFD,CAGA,GAAMC,CAAAA,KAAK,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWF,KAAtB,EAAD,CAAzB,CACA,GAAMG,CAAAA,iBAAiB,CAAGH,KAAK,CAACI,MAAhC,CAEA,GAAMC,CAAAA,UAAU,WAAMlB,OAAO,CAACmB,MAAd,aACfX,iBAAiB,CAAGR,OAAO,CAACoB,IAAX,CAAkB,EADpB,CAAhB,CAIAlB,SAAS,CAAC,UAAM,CACf,GAAIW,KAAK,CAACI,MAAN,GAAiB,CAArB,CAAwB,CACvB,OACA,CACDR,mBAAmB,CAAC,IAAD,CAAnB,CAEA,GAAMY,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC9Bb,mBAAmB,CAAC,KAAD,CAAnB,CACA,CAFuB,CAErB,GAFqB,CAAxB,CAGA,MAAO,WAAM,CACZc,YAAY,CAACF,KAAD,CAAZ,CACA,CAFD,CAGA,CAZQ,CAYN,CAACR,KAAD,CAZM,CAAT,CAcA,mBACC,gBAAQ,SAAS,CAAEK,UAAnB,CAA+B,OAAO,CAAEP,eAAxC,wBACC,aAAM,SAAS,CAAEX,OAAO,CAACwB,IAAzB,uBACC,KAAC,QAAD,IADD,EADD,cAIC,sCAJD,cAKC,aAAM,SAAS,CAAExB,OAAO,CAACyB,KAAzB,UAAiCT,iBAAjC,EALD,GADD,CASA,CArCD,CAuCA,cAAeT,CAAAA,gBAAf","sourcesContent":["import classes from \"./HeaderCartButton.module.css\";\nimport CartIcon from \"../Cart/CartIcon\";\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\n\nconst HeaderCartButton = () => {\n\tconst [btnIsHightlighted, setBtnIsHighlighted] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst showCartHandler = () => {\n\t\tdispatch(uiActions.setCartIsShown(true));\n\t};\n\tconst items = useSelector((state) => state.cart.items);\n\tconst numberOfCartItems = items.length;\n\n\tconst btnClasses = `${classes.button} ${\n\t\tbtnIsHightlighted ? classes.bump : \"\"\n\t}`;\n\n\tuseEffect(() => {\n\t\tif (items.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tsetBtnIsHighlighted(true);\n\n\t\tconst timer = setTimeout(() => {\n\t\t\tsetBtnIsHighlighted(false);\n\t\t}, 300);\n\t\treturn () => {\n\t\t\tclearTimeout(timer);\n\t\t};\n\t}, [items]);\n\n\treturn (\n\t\t<button className={btnClasses} onClick={showCartHandler}>\n\t\t\t<span className={classes.icon}>\n\t\t\t\t<CartIcon />\n\t\t\t</span>\n\t\t\t<span>Torrent Cart</span>\n\t\t\t<span className={classes.badge}>{numberOfCartItems}</span>\n\t\t</button>\n\t);\n};\n\nexport default HeaderCartButton;\n"]},"metadata":{},"sourceType":"module"}
{"version":3,"sources":["component/Cart/Cart.module.css","component/Cart/Checkout.module.css","component/Layout/HeaderCartButton.module.css","component/Dramas/DramaItem/DramaItem.module.css","component/Cart/CartItem.module.css","component/Dramas/AvailableDramas.module.css","component/UI/Modal.module.css","component/Layout/Header.module.css","component/Dramas/DramasSummary.module.css","component/UI/Card.module.css","store/ui-slice.js","store/cart-slice.js","store/index.js","component/Cart/CartIcon.js","component/Layout/HeaderCartButton.js","assets/Poster.jpg","component/Layout/Header.js","component/Dramas/DramasSummary.js","component/UI/Card.js","component/Dramas/DramaItem/DramaItem.js","component/Dramas/AvailableDramas.js","component/Dramas/Dramas.js","component/UI/Modal.js","component/Cart/CartItem.js","component/Cart/Checkout.js","component/Cart/Cart.js","App.js","index.js"],"names":["module","exports","uiSlice","createSlice","name","initialState","cartIsShown","reducers","setCartIsShown","state","action","payload","uiActions","actions","cartSlice","items","totalAmount","addItemToCart","newItem","find","item","id","push","price","title","removeItemFromCart","existingItem","filter","clearCart","cartActions","store","configureStore","reducer","ui","cart","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","btnIsHightlighted","setBtnIsHighlighted","dispatch","useDispatch","useSelector","numberOfCartItems","length","btnClasses","classes","button","bump","useEffect","timer","setTimeout","clearTimeout","className","onClick","icon","badge","Header","header","src","mealsImage","alt","DramasSummary","summary","Card","props","card","children","DramaItem","meal","description","AvailableDramas","dramas","setDramas","isLoading","setIsLoading","httpError","setHttpError","a","fetch","response","ok","Error","json","key","responseData","loadedDramas","toFixed","fetchMeals","catch","error","message","MealsLoading","MealsError","dramasList","map","drama","meals","Dramas","Backdrop","backdrop","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","onRemove","isEmpty","value","trim","Checkout","email","formInputsValidity","setFormInputsValidity","nameInputRef","useRef","emailInputRef","nameControlClasses","control","invalid","emailControlClasses","form","onSubmit","event","preventDefault","enteredName","current","enteredEmail","enteredNameIsValid","enteredEmailIsValid","onConfirm","street","htmlFor","type","ref","submit","Cart","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","hideCartHandler","hasItems","cartItemRemoveHandler","submitOrderHandler","userData","method","body","JSON","stringify","user","orderedItems","cartItems","bind","modalActions","cartModalContent","total","isSubmittingModalContent","didSubmitModalContent","App","render"],"mappings":"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","file":"static/js/main.b982bb4e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__1D9o8\",\"total\":\"Cart_total__25DHB\",\"actions\":\"Cart_actions__2_PFh\",\"button--alt\":\"Cart_button--alt__uhZKM\",\"button\":\"Cart_button__3KXfO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__12EP8\",\"control\":\"Checkout_control__1XOm6\",\"actions\":\"Checkout_actions__3puJh\",\"submit\":\"Checkout_submit__1a5sh\",\"invalid\":\"Checkout_invalid__3MxRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1_Kxk\",\"icon\":\"HeaderCartButton_icon__12UOL\",\"badge\":\"HeaderCartButton_badge__1iOMQ\",\"bump\":\"HeaderCartButton_bump__1BLGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"DramaItem_meal__3Z6bo\",\"description\":\"DramaItem_description__1C8Hn\",\"price\":\"DramaItem_price__2SZky\",\"button\":\"DramaItem_button__3UYwf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__2NPWb\",\"summary\":\"CartItem_summary__1DbIf\",\"price\":\"CartItem_price__1S6Du\",\"amount\":\"CartItem_amount__2wab7\",\"actions\":\"CartItem_actions__2uBy7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableDramas_meals__1CDQ3\",\"meals-appear\":\"AvailableDramas_meals-appear__2mCiB\",\"MealsLoading\":\"AvailableDramas_MealsLoading__17r-n\",\"MealsError\":\"AvailableDramas_MealsError__TBh2h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3Cj8I\",\"modal\":\"Modal_modal__3W37x\",\"slide-down\":\"Modal_slide-down__20sAI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24D5s\",\"main-image\":\"Header_main-image__3hOqT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"DramasSummary_summary__3wOBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__191NQ\",\"cart-items\":\"Card_cart-items__GSrcP\",\"total\":\"Card_total__c5L1t\",\"actions\":\"Card_actions__1_5nf\",\"button--alt\":\"Card_button--alt__2FlLL\",\"button\":\"Card_button__mgOPn\"};","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst uiSlice = createSlice({\n\tname: \"ui\",\n\tinitialState: { cartIsShown: false },\n\treducers: {\n\t\tsetCartIsShown(state, action) {\n\t\t\tstate.cartIsShown = action.payload;\n\t\t},\n\t},\n});\n\nexport default uiSlice;\nexport const uiActions = uiSlice.actions;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n\tname: \"cart\",\n\tinitialState: {\n\t\titems: [],\n\t\ttotalAmount: 0,\n\t},\n\treducers: {\n\t\taddItemToCart(state, action) {\n\t\t\tconst newItem = action.payload;\n\t\t\tconst existingItem = state.items.find((item) => item.id === newItem.id);\n\t\t\tif (!existingItem) {\n\t\t\t\tstate.items.push({\n\t\t\t\t\tid: newItem.id,\n\t\t\t\t\tprice: newItem.price,\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t});\n\t\t\t\tstate.totalAmount = state.totalAmount + +newItem.price;\n\t\t\t}\n\t\t},\n\t\tremoveItemFromCart(state, action) {\n\t\t\tconst id = action.payload;\n\t\t\tconst existingItem = state.items.find((item) => item.id === id);\n\t\t\tstate.totalAmount = state.totalAmount - existingItem.price;\n\t\t\tstate.items = state.items.filter((item) => item.id !== id);\n\t\t},\n\t\tclearCart(state) {\n\t\t\tstate = {\n\t\t\t\titems: [],\n\t\t\t\ttotalAmount: 0,\n\t\t\t};\n\t\t},\n\t},\n});\n\nexport default cartSlice;\nexport const cartActions = cartSlice.actions;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport uiSlice from \"./ui-slice\";\nimport cartSlice from \"./cart-slice\";\n\nconst store = configureStore({\n\treducer: { ui: uiSlice.reducer, cart: cartSlice.reducer },\n});\n\nexport default store;\n","const CartIcon = () => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 20 20'\n      fill='currentColor'\n    >\n      <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n    </svg>\n  );\n};\n\nexport default CartIcon;\n","import classes from \"./HeaderCartButton.module.css\";\nimport CartIcon from \"../Cart/CartIcon\";\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\n\nconst HeaderCartButton = () => {\n\tconst [btnIsHightlighted, setBtnIsHighlighted] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst showCartHandler = () => {\n\t\tdispatch(uiActions.setCartIsShown(true));\n\t};\n\tconst items = useSelector((state) => state.cart.items);\n\tconst numberOfCartItems = items.length;\n\n\tconst btnClasses = `${classes.button} ${\n\t\tbtnIsHightlighted ? classes.bump : \"\"\n\t}`;\n\n\tuseEffect(() => {\n\t\tif (items.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tsetBtnIsHighlighted(true);\n\n\t\tconst timer = setTimeout(() => {\n\t\t\tsetBtnIsHighlighted(false);\n\t\t}, 300);\n\t\treturn () => {\n\t\t\tclearTimeout(timer);\n\t\t};\n\t}, [items]);\n\n\treturn (\n\t\t<button className={btnClasses} onClick={showCartHandler}>\n\t\t\t<span className={classes.icon}>\n\t\t\t\t<CartIcon />\n\t\t\t</span>\n\t\t\t<span>Torrent Cart</span>\n\t\t\t<span className={classes.badge}>{numberOfCartItems}</span>\n\t\t</button>\n\t);\n};\n\nexport default HeaderCartButton;\n","export default __webpack_public_path__ + \"static/media/Poster.53ebdcfa.jpg\";","import React from \"react\";\nimport HeaderCartButton from \"./HeaderCartButton\";\nimport mealsImage from \"../../assets/Poster.jpg\";\nimport classes from \"./Header.module.css\";\n\nconst Header = () => {\n\treturn (\n\t\t<>\n\t\t\t<header className={classes.header}>\n\t\t\t\t<h1>Chinese Film and Television</h1>\n\t\t\t\t<HeaderCartButton />\n\t\t\t</header>\n\t\t\t<div className={classes[\"main-image\"]}>\n\t\t\t\t<img src={mealsImage} alt=\"Chinese show poster\" />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Header;\n","import classes from \"./DramasSummary.module.css\";\n\nconst DramasSummary = () => {\n\treturn (\n\t\t<section className={classes.summary}>\n\t\t\t<h2>A site for chinese film and television</h2>\n\t\t\t<p>\n\t\t\t\tI found that lots of chinese learner struggling with seeking for chinese\n\t\t\t\tlearning materials. So I create this website of chinese film and\n\t\t\t\ttelevision show, for people outside China to learn chinese or just enjoy\n\t\t\t\tit!\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tOpen the .torrent file downloaded with utorrent, please keep the file so\n\t\t\t\tthat other people can download faster\n\t\t\t</p>\n\t\t</section>\n\t);\n};\n\nexport default DramasSummary;\n","import classes from \"./Card.module.css\";\n\nconst Card = (props) => {\n\treturn <div className={classes.card}>{props.children}</div>;\n};\n\nexport default Card;\n","import classes from \"./DramaItem.module.css\";\n\nimport { useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../../store/cart-slice\";\n\nconst DramaItem = (props) => {\n\tconst dispatch = useDispatch();\n\tconst addToCartHandler = () => {\n\t\tdispatch(\n\t\t\tcartActions.addItemToCart({\n\t\t\t\tid: props.id,\n\t\t\t\ttitle: props.title,\n\t\t\t\tprice: props.price,\n\t\t\t})\n\t\t);\n\t};\n\treturn (\n\t\t<li className={classes.meal}>\n\t\t\t<div>\n\t\t\t\t<h3>{props.title}</h3>\n\t\t\t\t<div className={classes.description}>{props.description}</div>\n\t\t\t\t<div className={classes.price}>{props.price}</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button className={classes.button} onClick={addToCartHandler}>\n\t\t\t\t\t+\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\nexport default DramaItem;\n","import classes from \"./AvailableDramas.module.css\";\n\nimport Card from \"../UI/Card\";\nimport DramaItem from \"./DramaItem/DramaItem\";\nimport { useEffect, useState } from \"react\";\n\nconst AvailableDramas = () => {\n\tconst [dramas, setDramas] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [httpError, setHttpError] = useState(null);\n\tuseEffect(() => {\n\t\tconst fetchMeals = async () => {\n\t\t\tconst response = await fetch(\n\t\t\t\t\"https://chinesedrama-cae77-default-rtdb.asia-southeast1.firebasedatabase.app/dramas.json\"\n\t\t\t);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Something went wrong\");\n\t\t\t}\n\t\t\tconst responseData = await response.json();\n\t\t\tconst loadedDramas = [];\n\t\t\tfor (const key in responseData) {\n\t\t\t\tloadedDramas.push({\n\t\t\t\t\tid: key,\n\t\t\t\t\ttitle: responseData[key].title,\n\t\t\t\t\tdescription: responseData[key].description,\n\t\t\t\t\tprice: responseData[key].price.toFixed(2),\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetDramas(loadedDramas);\n\t\t\tsetIsLoading(false);\n\t\t};\n\t\tfetchMeals().catch((error) => {\n\t\t\tsetIsLoading(false);\n\t\t\tsetHttpError(error.message);\n\t\t});\n\t}, []);\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<section className={classes.MealsLoading}>\n\t\t\t\t<p>Loading</p>\n\t\t\t</section>\n\t\t);\n\t}\n\n\tif (httpError) {\n\t\treturn (\n\t\t\t<section className={classes.MealsError}>\n\t\t\t\t<p>{httpError}</p>\n\t\t\t</section>\n\t\t);\n\t}\n\tconst dramasList = dramas.map((drama) => (\n\t\t<DramaItem\n\t\t\tkey={drama.id}\n\t\t\tid={drama.id}\n\t\t\ttitle={drama.title}\n\t\t\tdescription={drama.description}\n\t\t\tprice={drama.price}\n\t\t/>\n\t));\n\treturn (\n\t\t<section className={classes.meals}>\n\t\t\t<Card>\n\t\t\t\t<ul>{dramasList}</ul>\n\t\t\t</Card>\n\t\t</section>\n\t);\n};\n\nexport default AvailableDramas;\n","import DramasSummary from \"./DramasSummary\";\nimport AvailableDramas from \"./AvailableDramas\";\n\nconst Dramas = () => {\n\treturn (\n\t\t<>\n\t\t\t<DramasSummary />\n\t\t\t<AvailableDramas />\n\t\t</>\n\t);\n};\n\nexport default Dramas;\n","import classes from \"./Modal.module.css\";\n\nimport ReactDOM from \"react-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\n\nconst Backdrop = (props) => {\n\tconst dispatch = useDispatch();\n\tconst hideCartHandler = () => {\n\t\tdispatch(uiActions.setCartIsShown(false));\n\t};\n\treturn <div className={classes.backdrop} onClick={hideCartHandler} />;\n};\n\nconst ModalOverlay = (props) => {\n\treturn (\n\t\t<div className={classes.modal}>\n\t\t\t<div className={classes.content}>{props.children}</div>\n\t\t</div>\n\t);\n};\n\nconst portalElement = document.getElementById(\"overlays\");\n\nconst Modal = (props) => {\n\treturn (\n\t\t<>\n\t\t\t{ReactDOM.createPortal(<Backdrop />, portalElement)}\n\t\t\t{ReactDOM.createPortal(\n\t\t\t\t<ModalOverlay>{props.children}</ModalOverlay>,\n\t\t\t\tportalElement\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Modal;\n","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n\treturn (\n\t\t<li className={classes[\"cart-item\"]}>\n\t\t\t<div>\n\t\t\t\t<h2>{props.title}</h2>\n\t\t\t\t<div className={classes.summary}>\n\t\t\t\t\t<span className={classes.price}>{props.price}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={classes.actions}>\n\t\t\t\t<button onClick={props.onRemove}>−</button>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nexport default CartItem;\n","import { useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\n\nimport classes from \"./Checkout.module.css\";\n\nconst isEmpty = (value) => value.trim() === \"\";\n\nconst Checkout = (props) => {\n\tconst dispatch = useDispatch();\n\tconst [formInputsValidity, setFormInputsValidity] = useState({\n\t\tname: true,\n\t\temail: true,\n\t});\n\n\tconst nameInputRef = useRef();\n\tconst emailInputRef = useRef();\n\n\tconst hideCartHandler = () => {\n\t\tdispatch(uiActions.setCartIsShown(false));\n\t};\n\tconst confirmHandler = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst enteredName = nameInputRef.current.value;\n\t\tconst enteredEmail = emailInputRef.current.value;\n\n\t\tconst enteredNameIsValid = !isEmpty(enteredName);\n\t\tconst enteredEmailIsValid = !isEmpty(enteredEmail);\n\n\t\tsetFormInputsValidity({\n\t\t\tname: enteredNameIsValid,\n\t\t\temail: enteredEmailIsValid,\n\t\t});\n\n\t\tconst formIsValid = enteredNameIsValid && enteredEmailIsValid;\n\n\t\tif (!formIsValid) {\n\t\t\treturn;\n\t\t}\n\n\t\tprops.onConfirm({\n\t\t\tname: enteredName,\n\t\t\tstreet: enteredEmail,\n\t\t});\n\t};\n\n\tconst nameControlClasses = `${classes.control} ${\n\t\tformInputsValidity.name ? \"\" : classes.invalid\n\t}`;\n\tconst emailControlClasses = `${classes.control} ${\n\t\tformInputsValidity.email ? \"\" : classes.invalid\n\t}`;\n\n\treturn (\n\t\t<form className={classes.form} onSubmit={confirmHandler}>\n\t\t\t<div className={nameControlClasses}>\n\t\t\t\t<label htmlFor=\"name\">Your Name</label>\n\t\t\t\t<input type=\"text\" id=\"name\" ref={nameInputRef} />\n\t\t\t\t{!formInputsValidity.name && <p>Please enter a valid name!</p>}\n\t\t\t</div>\n\t\t\t<div className={emailControlClasses}>\n\t\t\t\t<label htmlFor=\"street\">Email</label>\n\t\t\t\t<input type=\"text\" id=\"street\" ref={emailInputRef} />\n\t\t\t\t{!formInputsValidity.email && <p>Please enter a valid email!</p>}\n\t\t\t</div>\n\t\t\t<div className={classes.actions}>\n\t\t\t\t<button type=\"button\" onClick={hideCartHandler}>\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button className={classes.submit}>Confirm</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default Checkout;\n","import classes from \"./Cart.module.css\";\n\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\nimport { cartActions } from \"../../store/cart-slice\";\nimport { useSelector } from \"react-redux\";\nimport Modal from \"../UI/Modal\";\nimport CartItem from \"./CartItem\";\nimport Checkout from \"./Checkout\";\n\nconst Cart = () => {\n\tconst [isCheckout, setIsCheckout] = useState(false);\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst [didSubmit, setDidSubmit] = useState(false);\n\tconst dispatch = useDispatch();\n\tconst items = useSelector((state) => state.cart.items);\n\tconst totalAmount = useSelector((state) => state.cart.totalAmount);\n\tconst hideCartHandler = () => {\n\t\tdispatch(uiActions.setCartIsShown(false));\n\t};\n\tconst hasItems = items.length > 0;\n\n\tconst cartItemRemoveHandler = (id) => {\n\t\tdispatch(cartActions.removeItemFromCart(id));\n\t};\n\tconst orderHandler = () => {\n\t\tsetIsCheckout(true);\n\t};\n\tconst submitOrderHandler = async (userData) => {\n\t\tsetIsSubmitting(true);\n\t\tawait fetch(\n\t\t\t\"https://chinesedrama-cae77-default-rtdb.asia-southeast1.firebasedatabase.app/orders.json\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify({ user: userData, orderedItems: items }),\n\t\t\t}\n\t\t);\n\t\tsetIsSubmitting(false);\n\t\tsetDidSubmit(true);\n\t\tdispatch(cartActions.clearCart());\n\t};\n\n\tconst cartItems = (\n\t\t<ul className={classes[\"cart-items\"]}>\n\t\t\t{items.map((item) => (\n\t\t\t\t<CartItem\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\tprice={item.price}\n\t\t\t\t\t// .bind(null, item.id) ensures that the id of the to be added or removed item is passed here to RemoveHandler\n\t\t\t\t\t// bind pre-configure the argument that function will receive when it's being executed\n\t\t\t\t\t// so we ensure these two function do receive the id or the item respectively\n\t\t\t\t\tonRemove={cartItemRemoveHandler.bind(null, item.id)}\n\t\t\t\t\t// bind explanation: https://www.javascripttutorial.net/javascript-bind/\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ul>\n\t);\n\n\tconst modalActions = (\n\t\t<div className={classes.actions}>\n\t\t\t<button className={classes[\"button--alt\"]} onClick={hideCartHandler}>\n\t\t\t\tClose\n\t\t\t</button>\n\t\t\t{hasItems && (\n\t\t\t\t<button className={classes.button} onClick={orderHandler}>\n\t\t\t\t\tOrder\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n\n\tconst cartModalContent = (\n\t\t<>\n\t\t\t{cartItems}\n\t\t\t<div className={classes.total}>\n\t\t\t\t<span>Total Amount</span>\n\t\t\t\t<span>{totalAmount}</span>\n\t\t\t</div>\n\t\t\t{isCheckout && <Checkout onConfirm={submitOrderHandler} />}\n\t\t\t{!isCheckout && modalActions}\n\t\t</>\n\t);\n\tconst isSubmittingModalContent = <p>Sending order data..</p>;\n\tconst didSubmitModalContent = (\n\t\t<>\n\t\t\t<p>Successfully sent the order!</p>\n\t\t\t<div className={classes.actions}>\n\t\t\t\t<button className={classes.button} onClick={hideCartHandler}>\n\t\t\t\t\tClose\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n\treturn (\n\t\t<Modal>\n\t\t\t{!isSubmitting && !didSubmit && cartModalContent}\n\t\t\t{isSubmitting && isSubmittingModalContent}\n\t\t\t{!isSubmitting && didSubmit && didSubmitModalContent}\n\t\t</Modal>\n\t);\n};\n\nexport default Cart;\n","import { useSelector } from \"react-redux\";\nimport Header from \"./component/Layout/Header\";\nimport Dramas from \"./component/Dramas/Dramas\";\nimport Cart from \"./component/Cart/Cart\";\n\nfunction App() {\n\tconst cartIsShown = useSelector((state) => state.ui.cartIsShown);\n\n\treturn (\n\t\t<>\n\t\t\t{cartIsShown && <Cart />}\n\t\t\t<Header />\n\t\t\t<main>\n\t\t\t\t<Dramas />\n\t\t\t</main>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}